processes:
  - group_name: VirtualMachine
    annotation: VirtualMachine 
    members:
      - name: EC2
        tf_name: aws_instance
        compress: true

  - group_name: ServerlessFunction
    annotation: CloudApplication 
    members:
      - name: AwsLambda
        tf_name: aws_lambda_\w*
        can_public: true

  - group_name: WebApplication
    annotation: CloudApplication 
    members:
      - name: AwsAmplify
        tf_name: aws_amplify_\w*
        compress: true
  
  - group_name: Authenticator
    annotation: CloudApplication 
    members:
      - name: AmazonCognito
        tf_name: aws_cognito_\w*
        compress: true
  
  - group_name: LoadBalancer
    annotation: CloudApplication 
    members:
      - name: APIGateway
        tf_name: aws_api_gateway_\w*
        compress: true
        can_public: true

  - group_name: VirtualFirewall
    annotation: CloudApplication 
    members:
      - name: SecurityGroup
        tf_name: aws_security_group\w*
        compress: true
        can_public: true

  - group_name: IAM
    annotation: CloudApplication 
    members:
      - name: IAM
        tf_name: aws_iam_\w*
        compress: true
        can_public: true

boundaries:
  - group_name: VirtualNetwork
    members:
      - name: AwsVPC
        tf_name: aws_vpc

  - group_name: Subnet
    members:
      - name: Subnet
        tf_name: aws_subnet

data_stores:
  - group_name: FileStorage
    members:
      - name: S3
        tf_name: aws_s3_bucket\w*
        compress: true
        can_public: true
        
  - group_name: Database
    members:
      - name: DynamoDB
        tf_name: aws_dynamodb_table
      - name: RDS
        tf_name: aws_((db_instance)|(rds_cluster))
        compress: true

external_entities:
  - name: User
    annotation: RemoteUser
  # - name: Mobile
  #   annotation: ExternalService